<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <title>JavaScript Array</title>
    <style>
      .table {
        color: green;
      }
    </style>
  </head>
  <body>
    <script>
      var item = [
        {
          Q1: {
            Kolkata: { milk: 100, egg: 200, bread: 50 },
            Delhi: { milk: 100, egg: 200, bread: 50 },
            Mumbai: { milk: 100, egg: 200, bread: 50 },
          },
          Q2: {
            Kolkata: { milk: 100, egg: 200, bread: 50 },
            Delhi: { milk: 10, egg: 300, bread: 50 },
            Mumbai: { milk: 100, egg: 200, bread: 50 },
          },
          Q3: {
            Kolkata: { milk: 100, egg: 200, bread: 50 },
            Delhi: { milk: 100, egg: 200, bread: 50 },
            Mumbai: { milk: 100, egg: 200, bread: 10 },
          },
        },
      ];
    </script>
    <table class="table table-bordered text-center">
      <thead>
        <tr>
          <th rowspan="2" scope="col"></th>
          <th colspan="3" scope="col">Location = "Kolkata"</th>
          <th colspan="3" scope="col">Location = "Delhi"</th>
          <th colspan="3" scope="col">Location = "Mumbai"</th>
        </tr>
        <tr>
          <th colspan="3" scope="col">item</th>
          <th colspan="3" scope="col">item</th>
          <th colspan="3" scope="col">item</th>
        </tr>
        <tr>
          <th rowspan="3">Time</th>

          <th scope="col">Milk</th>
          <th scope="col">Egg</th>
          <th scope="col">Bread</th>

          <th scope="col">Milk</th>
          <th scope="col">Egg</th>
          <th scope="col">Bread</th>

          <th scope="col">Milk</th>
          <th scope="col">Egg</th>
          <th scope="col">Bread</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <h6>===================== The Quarter with maximum sale of Egg ============</h6>
    <p id="egg"></p>
    <h6>===================== Location with minimum consumption of Milk ============</h6>
    <p id="milk"></p>
    <h6>===================== Location with minimum consumption of Bread ============</h6>
    <p id="bread"></p>

    <script>
      var list = "";
      var maxegg = 0;
      var k_milk = 0;
      var d_milk = 0;
      var m_milk = 0;
      var k_bread = 0;
      var d_bread = 0;
      var m_bread = 0;
      var time = "";
      item.forEach((element) => {
        for (const [key, value] of Object.entries(element)) {
          list += `<tr><td>${key}</td>`;
          var egg = 0;
          for (const [key1, value1] of Object.entries(value)) {
            // console.log(key1);
            list += `
                <td>${value1.milk}</td>
                <td>${value1.egg}</td>
                <td>${value1.bread}</td>`;
            egg += value1.egg;
            if(key1 == "Delhi"){
              d_milk +=value1.milk;
              d_bread += value1.bread;
            }
            else if(key1 == "Kolkata"){
              k_milk +=value1.milk;
              k_bread += value1.bread;
            }
            else if(key1 == "Mumbai"){
              m_milk +=value1.milk;
              m_bread += value1.bread;
            }
          }
          list += "</tr>";
          if (egg > maxegg) {
            maxegg = egg;
            time = key;
          }
        }
        if(d_milk < k_milk && d_milk < m_milk){
          console.log("Location with minimum consumption of Milk"+d_milk);
          document.getElementById('milk').innerHTML = "Delhi minimum consuption of milk:"+d_milk 
        }
        else if(k_milk < d_milk && k_milk < m_milk){
          console.log("Location with minimum consumption of Milk"+k_milk);
          document.getElementById('milk').innerHTML = "Kolkta minimum consuption of milk:"+k_milk 
        }else{
          console.log("Location with minimum consumption of Milk"+m_milk);
          document.getElementById('milk').innerHTML = "Mumbai minimum consuption of milk:"+m_milk 
        }

        if(d_bread < k_bread && d_bread < m_bread){
          console.log("Location with minimum consumption of bread"+d_bread);
          document.getElementById('bread').innerHTML = 'Delhi minimum consuption of Bread:'+d_bread;
        }
        else if(k_bread < d_bread && k_bread < m_bread){
          console.log("Location with minimum consumption of bread"+k_bread);
          document.getElementById('bread').innerHTML = 'kolkata minimum consuption of Bread:'+k_bread
        }else{
          console.log("Location with minimum consumption of bread"+m_bread);
          document.getElementById('bread').innerHTML = 'Mumbai minimum consuption of Bread:'+m_bread
        }
        
        document.querySelector("tbody").innerHTML += list;
        document.getElementById('egg').innerHTML = " Quarter "+ time +" with maximum sale of Egg:"+maxegg
        console.log(maxegg);
        console.log(time);
      });
    </script>
  </body>
</html>
